<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>La casa del terror</title>

<link rel="icon" type="image/png" href="favicon.png">

<style>
/* ========= VARIABLES ========= */
:root{
  --neon:#00ff00;
  --ink:#eaeaea;
  --muted:#cfcfcf;
}

/* ========= RESET ========= */
*{ box-sizing:border-box; }
html, body{ -webkit-tap-highlight-color: transparent; }

button, a, .crt{
  -webkit-appearance:none;
  appearance:none;
  touch-action:manipulation;
}

:focus{ outline:none; }
:focus-visible{
  outline:2px solid rgba(0,255,0,.6);
  outline-offset:3px;
}

/* ========= BODY ========= */
body{
  margin:0;
  font-family:Arial, sans-serif;
  color:var(--ink);
  min-height:100vh;
  display:flex;
  justify-content:center;
  padding:32px 14px;
  overflow-x:hidden;
  background:
    repeating-radial-gradient(circle at 30% 40%,rgba(255,255,255,.04) 0,rgba(255,255,255,.04) 1px,transparent 2px,transparent 7px),
    repeating-radial-gradient(circle at 70% 60%,rgba(255,255,255,.025) 0,rgba(255,255,255,.025) 1px,transparent 1px,transparent 4px),
    linear-gradient(180deg,rgba(255,255,255,.06),rgba(0,0,0,.08)),
    linear-gradient(180deg,#1a1412,#0e0a09 50%,#050303);
}

.wrap{ width:100%; max-width:820px; text-align:center; }

/* ========= HEADER ========= */
.back{
  display:inline-block;
  color:var(--ink);
  opacity:.75;
  text-decoration:none;
  margin-bottom:14px;
  border-bottom:1px dotted rgba(255,255,255,.35);
}
.back:hover{ color:var(--neon); opacity:1; }

h1{
  margin:0 0 6px;
  font-size:22px;
  letter-spacing:.22em;
  font-weight:800;
  text-transform:uppercase;
}

/* ========= TV ========= */
.crt{
  position:relative;
  margin:12px auto 18px;
  width:fit-content;
  cursor:pointer;
  border-radius:12px;
}

#cover{
  width:100%;
  max-width:420px;
  border-radius:12px;
  display:block;
  filter:drop-shadow(0 0 22px rgba(0,0,0,.85));
  animation:crt-flicker 4.5s infinite;
}

.crt::before{
  content:"";
  position:absolute;
  inset:0;
  background:repeating-linear-gradient(to bottom,rgba(255,255,255,.025),rgba(255,255,255,.025) 1px,transparent 1px,transparent 3px);
  mix-blend-mode:overlay;
  opacity:.25;
  pointer-events:none;
  border-radius:12px;
}

/* ========= CONTROLS ========= */
.controls, .actions{
  display:flex;
  justify-content:center;
  gap:12px;
  flex-wrap:wrap;
}

button{
  width:52px;
  height:52px;
  border-radius:999px;
  border:1px solid rgba(0,255,0,.25);
  background:rgba(0,255,0,.12);
  color:var(--ink);
  cursor:pointer;
  transition:.18s;
}
button:hover{ color:var(--neon); transform:translateY(-1px); }

#play-pause{
  background:var(--neon);
  color:#000;
  box-shadow:0 0 22px rgba(0,255,0,.3);
}
#play-pause.pulse{ animation:pulse 1.3s infinite; }

@keyframes pulse{
  50%{ transform:scale(1.04); box-shadow:0 0 36px rgba(0,255,0,.5); }
}

/* ========= STATUS ========= */
#status-line{
  min-height:18px;
  font-size:12px;
  color:var(--muted);
  margin:8px 0 10px;
}

/* ========= PROGRESS ========= */
.progress-wrapper{
  display:flex;
  align-items:center;
  gap:10px;
  max-width:680px;
  margin:0 auto;
}
.progress-container{
  flex:1;
  height:10px;
  border-radius:999px;
  background:rgba(255,255,255,.1);
  position:relative;
  cursor:pointer;
}
.progress-bar{
  height:100%;
  width:0%;
  border-radius:999px;
  background:linear-gradient(90deg,rgba(0,255,0,.3),rgba(0,255,0,.8));
}
.progress-thumb{
  position:absolute;
  top:50%;
  width:14px;
  height:14px;
  background:var(--neon);
  border-radius:999px;
  transform:translate(-50%,-50%);
}

/* ========= SUPPORT ========= */
.support{ margin:18px auto; }
.support-btn{
  padding:12px 18px;
  border-radius:999px;
  border:1px solid rgba(0,255,0,.35);
  background:rgba(0,255,0,.1);
  cursor:pointer;
}
.support-btn .coffee{
  animation:coffeeBlink 18s infinite;
}
@keyframes coffeeBlink{
  90%{ opacity:.2 } 92%{ opacity:1 }
}

/* ========= MODAL ========= */
.modal{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.55);
  display:none;
  align-items:center;
  justify-content:center;
}
.modal.open{ display:flex; }

.modal-card{
  background:rgba(10,8,8,.95);
  padding:16px;
  border-radius:16px;
  max-width:560px;
  width:100%;
  position:relative;
}

.modal-close{
  position:absolute;
  top:8px;
  right:8px;
  width:40px;
  height:40px;
  border-radius:999px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:18px;
  cursor:pointer;
  border:1px solid rgba(255,255,255,.2);
  background:rgba(255,255,255,.05);
}

/* ========= PLAYLIST ========= */
.playlist{ max-width:720px; margin:18px auto; text-align:left; }
.track{
  padding:10px 14px;
  margin:6px 0;
  border-radius:10px;
  cursor:pointer;
  background:rgba(255,255,255,.05);
}
.track.current{ color:var(--neon); }

/* ========= ANIMS ========= */
@keyframes crt-flicker{
  50%{ filter:brightness(.97); }
}
</style>
</head>

<body>
<main class="wrap">
<a href="index.html" class="back">‚Üê Cortar la se√±al</a>
<h1>Cosmic Marciana</h1>

<div class="crt" tabindex="0">
  <img id="cover" src="tv.png" alt="Televisi√≥n CRT">
</div>

<div class="controls">
  <button id="play-pause">‚ñ∂</button>
</div>

<div id="status-line"></div>

<div class="progress-wrapper">
  <span id="current-time">0:00</span>
  <div class="progress-container" id="progress">
    <div class="progress-bar" id="bar"></div>
    <div class="progress-thumb" id="thumb"></div>
  </div>
  <span id="total-time">0:00</span>
</div>

<div class="support">
  <button class="support-btn" id="support-open">
    Inv√≠tame a un caf√© <span class="coffee">‚òï</span>
  </button>
</div>

<div class="modal" id="support-modal">
  <div class="modal-card">
    <button class="modal-close" id="support-close">‚úï</button>
    <p>El transmisor necesita energ√≠a.<br><strong>Gracias por sostener el ruido üíö</strong></p>
    <p><strong>Bizum:</strong> +34 600 000 000</p>
  </div>
</div>

<audio id="audio" src="lospobres.mp3"></audio>
</main>

<script>
const audio=document.getElementById("audio");
const play=document.getElementById("play-pause");
const status=document.getElementById("status-line");
let ghostShown=false;

play.onclick=()=>{
  if(audio.paused){ audio.play(); play.textContent="‚ùö‚ùö"; }
  else{ audio.pause(); play.textContent="‚ñ∂"; }
};

audio.ontimeupdate=()=>{
  if(!ghostShown && audio.currentTime>35){
    ghostShown=true;
    status.textContent="La se√±al necesita energ√≠a.";
    setTimeout(()=>status.textContent="",2000);
  }
};

document.getElementById("support-open").onclick=()=>{
  document.getElementById("support-modal").classList.add("open");
};
document.getElementById("support-close").onclick=()=>{
  document.getElementById("support-modal").classList.remove("open");
};
</script>
</body>
</html>
