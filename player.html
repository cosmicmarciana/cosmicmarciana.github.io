<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
<title>La casa del terror</title>

<link rel="icon" href="favicon.ico">

<style>
/* =========================
   TODO TU CSS ORIGINAL
   ========================= */
/* (NO CAMBIADO, recortado aqu√≠ por brevedad en la explicaci√≥n)
   üëâ en tu archivo REAL va TODO tal cual lo ten√≠as
*/

/* ============================================================
   NOW PLAYING ¬∑ OJO + ANTENA (SETENTERO)
   ============================================================ */

.track{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  position:relative;
}

/* halo suave */
.track.current::after{
  content:"";
  position:absolute;
  inset:-2px;
  border-radius:12px;
  border:1px solid rgba(0,255,0,.22);
  box-shadow:
    0 0 18px rgba(0,255,0,.10),
    0 0 42px rgba(0,255,0,.06);
  opacity:0;
  pointer-events:none;
}

body.playing .track.current::after{
  opacity:1;
  animation: halo-pulse 1.4s ease-in-out infinite;
}

@keyframes halo-pulse{
  0%,100%{
    box-shadow:
      0 0 18px rgba(0,255,0,.10),
      0 0 42px rgba(0,255,0,.06);
  }
  50%{
    box-shadow:
      0 0 28px rgba(0,255,0,.18),
      0 0 64px rgba(0,255,0,.10);
  }
}

/* ===== ojo + antena ===== */

.eye-signal{
  display:none;
  position:relative;
  width:28px;
  height:14px;
  border-radius:999px;
  border:1px solid rgba(0,255,0,.35);
  background:rgba(0,0,0,.35);
  box-shadow: inset 0 0 6px rgba(0,255,0,.25);
  flex-shrink:0;
}

/* pupila */
.eye-signal::before{
  content:"";
  position:absolute;
  top:50%;
  left:50%;
  width:6px;
  height:6px;
  background:#00ff00;
  border-radius:50%;
  transform:translate(-50%,-50%);
  box-shadow:0 0 8px rgba(0,255,0,.6);
}

/* antena */
.eye-signal::after{
  content:"";
  position:absolute;
  top:-8px;
  left:50%;
  width:2px;
  height:8px;
  background:rgba(0,255,0,.7);
  transform-origin:bottom center;
  transform:translateX(-50%);
  box-shadow:0 0 6px rgba(0,255,0,.5);
}

/* solo visible en el track activo */
.track.current .eye-signal{
  display:block;
}

/* animaci√≥n SOLO cuando suena */
body.playing .track.current .eye-signal::before{
  animation: pupil-jitter .9s infinite steps(2,end);
}

body.playing .track.current .eye-signal::after{
  animation: antenna-wiggle 1.1s infinite ease-in-out;
}

@keyframes pupil-jitter{
  0%{ transform:translate(-50%,-50%) }
  25%{ transform:translate(-45%,-50%) }
  50%{ transform:translate(-50%,-45%) }
  75%{ transform:translate(-55%,-50%) }
  100%{ transform:translate(-50%,-50%) }
}

@keyframes antenna-wiggle{
  0%,100%{ transform:translateX(-50%) rotate(0deg) }
  50%{ transform:translateX(-50%) rotate(12deg) }
}

/* respeta reduced motion */
@media (prefers-reduced-motion: reduce){
  .eye-signal::before,
  .eye-signal::after,
  .track.current::after{
    animation:none !important;
  }
}
</style>
</head>

<body>
<main class="wrap">

<!-- TODO TU HTML ORIGINAL IGUAL -->
<!-- ‚Ä¶ -->

<div class="playlist" id="playlist">
  <div class="track" data-index="0">1. Noche sint√©tica</div>
  <div class="track" data-index="1">2. Volveremos a empezar</div>
  <div class="track" data-index="2">3. Qui√©n llena los shows</div>
  <div class="track" data-index="3">4. STOP!</div>
  <div class="track" data-index="4">5. Reza</div>
  <div class="track" data-index="5">6. De pie</div>
  <div class="track" data-index="6">7. Quemarlo todo</div>
  <div class="track" data-index="7">8. Nadie sabe nada</div>
  <div class="track" data-index="8">9. Lo que no quiero</div>
  <div class="track" data-index="9">10. La casa del terror</div>
  <div class="track" data-index="10">11. Tenemos que hablar</div>
</div>

<!-- ‚Ä¶ -->

</main>

<script>
/* ===== TU JS ORIGINAL ===== */

/* ===== A√ëADIDO: insertar ojo ===== */
const tracks = Array.from(document.querySelectorAll(".track"));
tracks.forEach(t=>{
  t.insertAdjacentHTML("beforeend", `<span class="eye-signal" aria-hidden="true"></span>`);
});
</script>

</body>
</html>
